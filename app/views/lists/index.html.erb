<h1>
  <%= @is_mylists ? "My Lists" : "All Lists" %>
</h1>

<% if @lists.any? %>
  <div>
    <% @lists.each do |list| %>
      <div class="list-item">
        <h4>
          <%= link_to list.name, list_path(list) %>
          <% if list.user == current_user %>
            <span class="text-muted">(Your list)</span>
          <% end %>
        </h4>
        <div>
          <% list.categories.each do |category| %>
            <%= link_to category.name, category_path(category) %>
          <% end %>
        </div>
        <div>
          <% if list.user == current_user %>
            <%= link_to "Edit List", edit_list_path(list) %>
            <%= button_to "Delete this list", list, method: :delete, data: { turbo_confirm: "Are you sure?" } %>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <p>No lists found</p>
<% end %>

<h4><%= link_to "+ New List", new_list_path %></h4>

<% if @is_mylists %>
  <%= link_to "Back to All Lists", lists_path, class: "btn btn-secondary mt-3" %>
<% end %>
<% unless @is_mylists %>
  <%= link_to "View My Lists", lists_mylists_path, class: "btn btn-primary mt-3" %>
<% end %>
<style>
    .list-item {
        border: 1px solid #ccc;
        padding: 10px;
        margin-bottom: 10px;
        border-radius: 5px;
        background-color: #f9f9f9;
    }
</style>